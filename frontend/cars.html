<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>لیست خودروها | خودرو۹۰</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<header class="main-header">
  <div class="logo">KHODRO 90</div>
  <nav class="main-nav">
    <a href="index.html" class="nav-item">خانه</a>
    <a href="login.html" class="nav-item">ورود</a>
    <a href="signup.html" class="nav-item">ثبت‌نام</a>
  </nav>
</header>

<main style="padding:80px 40px;">
  <h1>لیست خودروها</h1>

  <div id="cars-container" class="cars-container"></div>
</main>

<script>
// ------------------------
// گرفتن لیست خودروها
// ------------------------

async function loadCars() {
  const res = await fetch("/api/cars");
  const cars = await res.json();

  const container = document.getElementById("cars-container");

  container.innerHTML = cars.map(car => `
    <div class="car-card">
      <h3>${car.brand} ${car.model}</h3>
      <p>قیمت: ${Number(car.price).toLocaleString()} تومان</p>

      <div class="car-images">
        ${
          car.images.length
          ? car.images.map(imgObj => `
              <img src="/${imgObj.url}"
               style="width:100px; height:70px; object-fit:cover; border-radius:6px;">
            `).join('')
          : "<p>بدون عکس</p>"
        }
      </div>
    </div>
  `).join('');
}

loadCars();

</script>

</body>
</html>
